<img src="https://github.com/TusharRakheja/mgen/raw/main/cache/title.png" width="auto" height="100px" />

___

**cache** is a tool to trim the cache file used by mgen's `rotate` tool.

### Dependencies

- [Plink 1.90](https://www.cog-genomics.org/plink2/)
- Python 3.10 (if running on Linux or MacOS)

### Usage

- Download this repo and add the root directory to PATH.

- Examples:
```
mgen cache --remove-passing --cache-file cache_6eda9b1164f341ceed1b970e165422eb.txt --results-file results_6eda9b1164f341ceed1b970e165422eb.csv

mgen cache --remove-passing --cache-file cache_6eda9b1164f341ceed1b970e165422eb.txt --results-file results_6eda9b1164f341ceed1b970e165422eb.csv --output-file new_cache_file.txt

mgen cache --run-only models_to_run.txt --cache-file cache_6eda9b1164f341ceed1b970e165422eb.txt

mgen cache --run-only models_to_run.txt --cache-file cache_6eda9b1164f341ceed1b970e165422eb.txt --output-file new_cache_file.txt
```

### Options

```
$ mgen cache -h
usage: cache [-h] [-p PMIN] [--remove-passing] [--run-only RUN_ONLY]
             [--output-file OUTPUT_FILE] --cache-file CACHE_FILE
             [--results-file RESULTS_FILE]

Utility to remove models from the cache generated by `mgen rotate`

optional arguments:
  -h, --help            show this help message and exit
  -p PMIN, --pmin PMIN  Minimum viable p-value
  --remove-passing      Remove passing models from a cache file
  --run-only RUN_ONLY   Path to a file containing a list of the only models
                        you want to run. The cache is trimmed accordingly
  --output-file OUTPUT_FILE
                        The name of the output cache file, with the models
                        removed (if not provided, the input cache file itself
                        will be updated)
  --cache-file CACHE_FILE
                        The path to the cache file to remove the models from
  --results-file RESULTS_FILE
                        The path to the results file to look at for the
                        p-values

Copyright (c) 2024 Tushar Rakheja (The MIT License)
```
